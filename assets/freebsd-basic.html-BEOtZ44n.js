import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as n,c as a,b as o,e,d as s,a as c}from"./app-CJU2GbS4.js";const i="/freebsd-book/assets/example-dir-1-BrQqmIu7.png",l="/freebsd-book/assets/example-dir-2-Bh03-WxD.png",p="/freebsd-book/assets/example-dir-3-BTaAGo3Q.png",h="/freebsd-book/assets/example-dir-4-B2Ktg1PW.png",u="/freebsd-book/assets/example-dir-5-cXTq2w3X.png",b={},m=c('<h1 id="第-2-节-freebsd-基础" tabindex="-1"><a class="header-anchor" href="#第-2-节-freebsd-基础"><span>第 2 节 FreeBSD 基础</span></a></h1><div class="hint-container tip"><p class="hint-container-title">提示</p><p>本节内容面向从未接触过 FreeBSD 或 Linux 系统的使用者。如果你用过 Linux，可以跳过本节。</p></div><p>这里是一些使用 FreeBSD 的基础知识。事实上对于其他 UNIX-like 系统，这些内容都很相近，但略有区别。你可以随时回来浏览这一节。</p><h2 id="控制台-终端和登陆" tabindex="-1"><a class="header-anchor" href="#控制台-终端和登陆"><span>控制台，终端和登陆</span></a></h2><p>安装了 FreeBSD 后如何使用？FreeBSD 的基本安装并不带有图形用户界面，因此你只能看到满屏的文本。要想正常使用系统首先你要在终端登陆。</p>',5),g={href:"https://handbook.bsdcn.org/di-3-zhang-freebsd-ji-chu/3.2.-xu-ni-kong-zhi-tai-he-zhong-duan",target:"_blank",rel:"noopener noreferrer"},f={href:"https://docs.freebsd.org/en/books/handbook/basics/#consoles",target:"_blank",rel:"noopener noreferrer"},k=c(`<p>如果 FreeBSD 没有在启动时配置自动启动图形环境，系统将启动到一个命令行登录提示符，如下所示：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span>FreeBSD/amd64 (pc3.example.org) (ttyv0)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>login:</span></span>
<span class="line"><span></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>第一行包含了一些关于系统的信息。<code>amd64</code>表示此示例系统正在运行 FreeBSD 的 64 位版本。主机名为<code>pc3.example.org</code>，<code>ttyv0</code>表示这是&quot;系统控制&gt;台&quot;。第二行是登录提示符。</p><p>由于 FreeBSD 是一个多用户系统，它需要一种区分不同用户的方式。这是通过要求每个用户在访问系统上的程序之前登录系统来实现的。每个用户都有一个唯一的“username”和个人“password”。</p>`,4),B={href:"https://docs.freebsd.org/en/books/handbook/book/#bsdinstall-addusers",target:"_blank",rel:"noopener noreferrer"},_=o("p",null,[e("输入正确的密码后，将显示今日消息（MOTD），后跟命令提示符。根据创建用户时选择的 shell，此提示符将是"),o("code",null,"#"),e("，"),o("code",null,"$"),e("或"),o("code",null,"%"),e("字符之一。提示符表示用户现在已登录到 FreeBSD 系统控制台，并准备尝试可用的命令。")],-1),D=c(`<p>感兴趣的话你也可以看看全文，简单理解 <code>控制台（console）</code> 和 <code>终端（terminal）</code> 的区别。这是 FreeBSD 相较于 Linux 的有差别的点。</p><h2 id="freebsd-目录结构" tabindex="-1"><a class="header-anchor" href="#freebsd-目录结构"><span>FreeBSD 目录结构</span></a></h2><p>当你安装完 FreeBSD，或其他 UNIX-like（比如 Linux，事实上包括 MacOS，但是略有不同）系统，你会注意到这 “看起来有点不一样” <s>（没有桌面只有命令行一片乌漆嘛黑当然不一样，但我指的是目录结构上）</s> 。UNIX-like 系统不像 Windows 那样使用不同的盘符来区分文件（比如系统 C:，文档 D:，可能还有更多）。UNIX-like 很多情况下只有一个分区，被 <a href="#%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E4%B8%8E%E6%8C%82%E8%BD%BD">挂载</a> 到 <code>/</code>。这个 <code>/</code> 被叫做 “根目录”。可以理解为如果 Windows 中只有一个 <code>C:</code> 盘，这就是你打开 <code>C:</code> 盘所在的位置。这是所有文件和目录的起始位置。也就是说，所有文件的路径都从 <code>/</code> 开始，就像只有 <code>C:</code> 盘的 Windows 中所有文件都从 <code>C:\\</code> 开始一样。</p><p>如果你在 FreeBSD（后文如果未加说明，所有命令均为在 FreeBSD 14.0-RELEASE 执行）执行 <code>ls /</code>（这条命令的含义是列出 <code>/</code> 下的所有文件和文件夹，稍后也会解释），你应该会看到一个列表：</p><div class="language-shellsession line-numbers-mode" data-ext="shellsession" data-title="shellsession"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4;">alex11@freebsd:~ $ ls /</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4;">COPYRIGHT    dev          home         media        proc         sbin         usr</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4;">bin          entropy      lib          mnt          rescue       sys          var</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4;">boot         etc          libexec      net          root         tmp          zroot</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>粗略讲解比较重要的部分：</p><table><thead><tr><th>内容</th><th>作用</th></tr></thead><tbody><tr><td><code>/bin/</code></td><td>即 Binary，存放部分可执行文件，通常这里的程序是不可或缺的</td></tr><tr><td><code>/boot/</code></td><td>存放与系统启动有关的文件</td></tr><tr><td><code>/dev/</code></td><td>即 Device，硬件设备所在的文件夹。</td></tr><tr><td><code>/etc/</code></td><td>即 Etcetera，存放系统级配置文件和脚本</td></tr><tr><td><code>/home/</code></td><td>“家目录”，与 Windows 的 <code>C:\\Users</code> 类似</td></tr><tr><td><code>/lib/</code></td><td>即 Library，存放部分库文件（Windows 中的 dll），通常是不可或缺的</td></tr><tr><td><code>/libexec/</code></td><td>通常存放一些不可或缺的，但不应该由用户直接主动执行的程序</td></tr><tr><td><code>/media/</code></td><td>通常用来挂载 U 盘，USB 光驱等外置移动存储设备</td></tr><tr><td><code>/mnt/</code></td><td>即 Mount，通常用来挂载内置的硬盘等固定存储设备</td></tr><tr><td><code>/root/</code></td><td><code>root</code> 用户的家目录，见 <a href="#root-%E7%94%A8%E6%88%B7">root 用户</a></td></tr><tr><td><code>/sbin/</code></td><td>即 Superuser Binary，类似 <code>/bin/</code>，存放不可或缺的系统管理程序</td></tr><tr><td><code>/tmp/</code></td><td>即 Temporary，存放临时文件，重启后会清除</td></tr><tr><td><code>/usr/</code></td><td>即 UNIX System Resource，顾名思义，系统所用的资源文件</td></tr><tr><td><code>/var/</code></td><td>即 Variable，在系统使用过程中会不断变化的文件，比如日志文件</td></tr></tbody></table><p>除了在根目录的这些文件夹，还有一些文件夹值得注意：</p><p><code>/usr/bin/</code> <code>/usr/sbin/</code> <code>/usr/lib/</code> <code>/usr/libexec/</code>：你会发现这些文件夹很眼熟。事实上他们的作用与在根目录下的类似。可以这样粗略的理解：根目录下的是系统正常运行使用必不可少的，而 <code>/usr/</code> 下的是“可选”的，删除他们只会影响某些功能而不影响基本的系统运行使用。即便如此，也绝对不应该轻易删除这里的文件。如果装了一些软件包，<code>/usr/local/</code> 下也会有类似的布局。这里装的是基本系统以外的，后安装的文件，可以安全移除，但也不要手动移除，应该用包管理器。</p><p><code>/usr/ports/</code>：这是 FreeBSD 的 ports 树所在的文件夹。</p><p><code>/usr/src/</code>：这是 FreeBSD 的源代码所在的文件夹。</p><h3 id="家目录" tabindex="-1"><a class="header-anchor" href="#家目录"><span>家目录</span></a></h3><p>家目录一般为 <code>/home/username/</code>。例如：用户名为 <code>alex11</code>，则家目录为 <code>/home/alex11/</code>。家目录可简写为 <code>~</code>。例如，<code>/home/alex11/.xprofile</code> （这是桌面的环境变量配置文件）可以简写为 <code>~/.xprofile</code>。</p><p>不用着急把这一切都记住，只需要混个脸熟。以后我们可能会多次涉及到某个文件夹，到时再加深印象也不迟。</p>`,14),v={href:"https://docs.freebsd.org/en/books/handbook/basics/#dirstructure",target:"_blank",rel:"noopener noreferrer"},x={href:"https://handbook.bsdcn.org/di-3-zhang-freebsd-ji-chu/3.5.-mu-lu-jie-gou",target:"_blank",rel:"noopener noreferrer"},F={href:"https://man.freebsd.org/cgi/man.cgi?query=hier&sektion=7&format=html",target:"_blank",rel:"noopener noreferrer"},S=o("h2",{id:"硬盘分区与挂载",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#硬盘分区与挂载"},[o("span",null,"硬盘分区与挂载")])],-1),A={href:"https://man.freebsd.org/cgi/man.cgi?query=hier&sektion=7&format=html",target:"_blank",rel:"noopener noreferrer"},y={href:"https://handbook.bsdcn.org/di-3-zhang-freebsd-ji-chu/3.6.-ci-pan-jie-gou",target:"_blank",rel:"noopener noreferrer"},E={href:"https://handbook.bsdcn.org/di-3-zhang-freebsd-ji-chu/3.6.-ci-pan-jie-gou",target:"_blank",rel:"noopener noreferrer"},C=c("<blockquote><p>考虑三个文件系统，称为<code>A</code>、<code>B</code>和<code>C</code>。每个文件系统都有一个根目录，其中包含两个其他目录，称为<code>A1</code>、<code>A2</code>（以及类似地<code>B1</code>、<code>B2</code>和<code>C1</code>、<code>C2</code>）。</p></blockquote><p>指你的硬盘有三个分区，如果在 Windows 下很可能就是 <code>C:</code> <code>D:</code> <code>E:</code>。那在 FreeBSD 下呢？</p>",2),N=o("code",null,"A",-1),w={href:"https://man.freebsd.org/cgi/man.cgi?query=ls&sektion=1&format=html",target:"_blank",rel:"noopener noreferrer"},q=o("code",null,"A1",-1),I=o("code",null,"A2",-1),U=c('<figure><img src="'+i+'" alt="有根目录和两个子目录（A1 和 A2）的目录树" tabindex="0"><figcaption>有根目录和两个子目录（A1 和 A2）的目录树</figcaption></figure><p>一个文件系统必须以目录形式被挂载到另一个文件系统上。当把文件系统 <code>B</code> 挂载到 <code>A1</code> 的目录上时，<code>B</code> 的根目录变成了 <code>A1</code>，<code>B</code> 中的目录也相应地发生改变：</p><figure><img src="'+l+'" alt="目录树有根目录和两个子目录，A1 和 A2。还有更多的子目录，B1 和 B2 挂在 A1 上" tabindex="0"><figcaption>目录树有根目录和两个子目录，A1 和 A2。还有更多的子目录，B1 和 B2 挂在 A1 上</figcaption></figure><p>任何位于 <code>B1</code> 或 <code>B2</code> 目录下的文件都必须经过路径 <strong>/A1/B1</strong> 或 <strong>/A1/B2</strong> 才能到达。任何在 <code>/A1</code> 中原有的文件都被暂时隐藏了。如果把 <code>B</code> 从 <code>A</code> 上 <em>卸载</em> 下来，它们将重新出现。</p><p>如果 <code>B</code> 被挂载在 <code>A2</code> 上，那么图片会是这样的：</p><figure><img src="'+p+'" alt="目录树有根目录和两个子目录，A1 和 A2。还有更多的子目录，B1 和 B2 挂在 A2 上" tabindex="0"><figcaption>目录树有根目录和两个子目录，A1 和 A2。还有更多的子目录，B1 和 B2 挂在 A2 上</figcaption></figure><p>而路径将分别为 <strong>/A2/B1</strong> 和 <strong>/A2/B2</strong>。</p><p>文件系统可以被挂载在其他文件的之上。继续上一个例子，文件系统 <code>C</code> 可以挂载在文件系统 <code>B</code> 的 B1 目录之上，从而形成这种安排：</p><figure><img src="'+h+'" alt="一个复杂的目录树。有不同的子目录挂在根目录上。" tabindex="0"><figcaption>一个复杂的目录树。有不同的子目录挂在根目录上。</figcaption></figure><p>或者可以直接挂载 <code>C</code> 到文件系统 <code>A</code> 的 <code>A1</code> 目录下：</p><figure><img src="'+u+'" alt="一个复杂的目录树。有不同的子目录挂在根目录上。" tabindex="0"><figcaption>一个复杂的目录树。有不同的子目录挂在根目录上。</figcaption></figure>',11),z=c(`<p>懂了吗？在 FreeBSD 下不存在盘符，整体结构就像树枝分叉一样。一个目录就有可能是另一个硬盘分区，甚至是另一块物理硬盘，就像一棵树上可以嫁接另一棵树的树枝一样。没懂也没关系，<s>用多了就懂了</s>。</p><h2 id="root-用户" tabindex="-1"><a class="header-anchor" href="#root-用户"><span><code>root</code> 用户</span></a></h2><p>在各种教程中，经常会提示你某命令要用 <code>root</code> 用户执行。<code>root</code> 用户是 UNIX-like 系统中自带的，权限极大的用户，大于 Windows 中的 <code>Administrator</code> 用户，在某些意义上甚至大于 <code>System</code> 用户。他的权限大到可以把一个运行中的系统整个删除，经典的 <code>rm -rf /</code> 笑话（<strong>不要尝试这条命令！</strong><s>除非你真的想删掉整个系统</s>）。但是几乎所有涉及到系统的命令都要以 <code>root</code> 用户执行，所以使用 <code>root</code> 用户时要小心谨慎。在基本的 FreeBSD 系统中，你可以用 <code>su</code> 命令切换到 <code>root</code> 用户：</p><div class="language-shellsession line-numbers-mode" data-ext="shellsession" data-title="shellsession"><pre class="shiki shiki-themes light-plus dark-plus" style="background-color:#FFFFFF;--shiki-dark-bg:#1E1E1E;color:#000000;--shiki-dark:#D4D4D4;" tabindex="0"><code><span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4;">alex11@freebsd:~ $ su - root</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4;">Password:</span></span>
<span class="line"><span style="color:#000000;--shiki-dark:#D4D4D4;">root@freebsd:~ #</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到，用户名从 <code>alex11</code> 变成了 <code>root</code>，提示符也从 <code>$</code> 变为了 <code>#</code>。<strong>用完不要忘了用 <code>exit</code> 命令退出 <code>root</code> 用户！</strong></p><h2 id="常用命令简介" tabindex="-1"><a class="header-anchor" href="#常用命令简介"><span>常用命令简介</span></a></h2><h3 id="cd" tabindex="-1"><a class="header-anchor" href="#cd"><span><code>cd</code></span></a></h3><p>进入某个目录的命令。例如 <code>cd /usr</code> 可以进入 <code>/usr/</code> 目录。<code>.</code> 表示当前目录。<code>..</code> 表示上一级目录。例如如果当前目录为 <code>/usr/local/</code>，则 <code>cd ..</code> 会进入 <code>/usr/</code>。</p><h3 id="ls" tabindex="-1"><a class="header-anchor" href="#ls"><span><code>ls</code></span></a></h3><p>列出当前目录包含的文件。<code>ls -a</code> 可以列出所有文件，包括以 <code>.</code> 开头的文件。在 FreeBSD 中，文件或文件夹名称以 <code>.</code> 开头表示隐藏文件或文件夹。</p><h3 id="cp-和-mv" tabindex="-1"><a class="header-anchor" href="#cp-和-mv"><span><code>cp</code> 和 <code>mv</code></span></a></h3><p><code>cp</code> 即 “Copy”，复制文件。<code>mv</code> 即 “Move”，移动（剪切）文件。用法为 <code>cp/mv source target</code>。使用 <code>cp -R dir</code> 可以递归复制整个目录。有意思的是文件重命名也是用 <code>mv</code> 命令实现的，即把文件剪切掉再用另外一个名字粘贴回来，例如 <code>mv file file1</code>。</p><h3 id="rm-和-rmdir" tabindex="-1"><a class="header-anchor" href="#rm-和-rmdir"><span><code>rm</code> 和 <code>rmdir</code></span></a></h3><p><code>rm</code> 即 “Remove”，删除文件。例如 <code>rm file</code>。使用 <code>rm -r dir</code> 递归删除目录。使用 <code>rm -f file</code> 强行且不提示的删除某些被保护的文件。<code>rm -r</code> 和 <code>rm -f</code> 可以合写为 <code>rm -rf</code>。由于 <code>rm</code> 不带有回收站机制，使用的时候要尤其小心。</p><p><code>rmdir</code> 仅用于删除目录，且一般只用于删除空目录。</p><h3 id="ee" tabindex="-1"><a class="header-anchor" href="#ee"><span><code>ee</code></span></a></h3><p>FreeBSD 自带的文本编辑器。使用 <code>ee file</code> 编辑文件。快捷键都在上方列出。按 <code>esc</code> 进入菜单，再按两次回车可以保存退出。</p><h3 id="su" tabindex="-1"><a class="header-anchor" href="#su"><span><code>su</code></span></a></h3><p>即 “Switch User”，切换用户。如果你已经是 <code>root</code> 用户而想切换到其他用户，则不需要输入密码。如果是在普通用户之间切换或切换到 <code>root</code> 用户，则需要输入目标用户的密码。密码不会显示。用 <code>exit</code> 命令可以退出切换到的用户回到之前的用户。</p><h3 id="sudo-和-doas" tabindex="-1"><a class="header-anchor" href="#sudo-和-doas"><span><code>sudo</code> 和 <code>doas</code></span></a></h3><p>可以临时切换成 <code>root</code> 用户执行某个命令。很多教程让你执行的命令都以 <code>sudo</code> 开头，实际上意味着后面的命令要以 <code>root</code> 身份执行。<code>doas</code> 是 <code>sudo</code> 的一个轻量化和可能更安全的替代。这两个命令不包含在基本系统，需要手动安装。</p>`,21);function L(T,W){const d=t("ExternalLinkIcon");return n(),a("div",null,[m,o("p",null,[e("下面是"),o("a",g,[e("FreeBSD 简体中文手册 3.2.控制台和终端"),s(d)]),e("的引用：（"),o("a",f,[e("英文原版：FreeBSD Handbook 3.2. Virtual Consoles and Terminals"),s(d)]),e("）")]),o("blockquote",null,[k,o("p",null,[e("要登录到系统控制台，请输入在系统安装期间配置的用户名（如"),o("a",B,[e("添加用户"),s(d)]),e("中所述）并按回车键。然后输入与用户名关联的密码并按回车键。出于安全原因，密码不会被回显。")]),_]),D,o("p",null,[e("更多的信息可以看 "),o("a",v,[e("FreeBSD Handbook 3.5.Directory Structure"),s(d)]),e("（"),o("a",x,[e("翻译：FreeBSD 简体中文手册 3.5.目录结构"),s(d)]),e("）和手册 "),o("a",F,[e("hier(7)"),s(d)])]),S,o("p",null,[o("a",A,[e("FreeBSD Handbook 3.6. Disk Organization"),s(d)]),e("（"),o("a",y,[e("翻译：FreeBSD 简体中文手册 3.6.磁盘结构"),s(d)]),e("）解释的很充分。下面引用和解释 "),o("a",E,[e("FreeBSD 简体中文手册 3.6.磁盘结构"),s(d)]),e("的部分内容：")]),C,o("blockquote",null,[o("p",null,[e("将"),N,e("称为根文件系统。如果使用 "),o("a",w,[e("ls(1)"),s(d)]),e(" 查看此目录的内容，它将显示两个子目录，"),q,e("和"),I,e("。目录树如下：")]),U]),z])}const R=r(b,[["render",L],["__file","freebsd-basic.html.vue"]]),V=JSON.parse('{"path":"/begin/freebsd-basic.html","title":"第 2 节  FreeBSD 基础","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"控制台，终端和登陆","slug":"控制台-终端和登陆","link":"#控制台-终端和登陆","children":[]},{"level":2,"title":"FreeBSD 目录结构","slug":"freebsd-目录结构","link":"#freebsd-目录结构","children":[{"level":3,"title":"家目录","slug":"家目录","link":"#家目录","children":[]}]},{"level":2,"title":"硬盘分区与挂载","slug":"硬盘分区与挂载","link":"#硬盘分区与挂载","children":[]},{"level":2,"title":"root 用户","slug":"root-用户","link":"#root-用户","children":[]},{"level":2,"title":"常用命令简介","slug":"常用命令简介","link":"#常用命令简介","children":[{"level":3,"title":"cd","slug":"cd","link":"#cd","children":[]},{"level":3,"title":"ls","slug":"ls","link":"#ls","children":[]},{"level":3,"title":"cp 和 mv","slug":"cp-和-mv","link":"#cp-和-mv","children":[]},{"level":3,"title":"rm 和 rmdir","slug":"rm-和-rmdir","link":"#rm-和-rmdir","children":[]},{"level":3,"title":"ee","slug":"ee","link":"#ee","children":[]},{"level":3,"title":"su","slug":"su","link":"#su","children":[]},{"level":3,"title":"sudo 和 doas","slug":"sudo-和-doas","link":"#sudo-和-doas","children":[]}]}],"git":{"createdTime":1708667643000,"updatedTime":1708749077000,"contributors":[{"name":"Alex6357","email":"73743056+Alex6357@users.noreply.github.com","commits":2}]},"readingTime":{"minutes":10.12,"words":3037},"filePathRelative":"begin/freebsd-basic.md","localizedDate":"2024年2月23日","excerpt":"\\n<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">提示</p>\\n<p>本节内容面向从未接触过 FreeBSD 或 Linux 系统的使用者。如果你用过 Linux，可以跳过本节。</p>\\n</div>\\n<p>这里是一些使用 FreeBSD 的基础知识。事实上对于其他 UNIX-like 系统，这些内容都很相近，但略有区别。你可以随时回来浏览这一节。</p>\\n<h2>控制台，终端和登陆</h2>\\n<p>安装了 FreeBSD 后如何使用？FreeBSD 的基本安装并不带有图形用户界面，因此你只能看到满屏的文本。要想正常使用系统首先你要在终端登陆。</p>"}');export{R as comp,V as data};
